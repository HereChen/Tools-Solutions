\section{持续集成}\label{ux6301ux7eedux96c6ux6210}

\subsection{travis-ci}\label{travis-ci}

\subsubsection{travis-ci
使用流程}\label{travis-ci-ux4f7fux7528ux6d41ux7a0b}

travis-ci 结合 github 使用, 每次提交自动执行编译或测试任务.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textless{}travis-ci.org\textgreater{} 用 github 账户授权登录
\item
  travis-ci 上添加需要持续集成的 github repo
\item
  github repo 中添加 \lstinline!.travis.yml! 配置, 用以配置 travis
  所要执行的任务和环境
\item
  repo 更改完成, 提交, 可在 travis-ci 上实时查看任务执行过程
\end{enumerate}

备注:

\subsubsection{添加编译状态图标}\label{ux6dfbux52a0ux7f16ux8bd1ux72b6ux6001ux56feux6807}

\begin{lstlisting}
[![Build Status](https://travis-ci.org/HereChen/Tools-Solutions.svg?branch=master)](https://travis-ci.org/HereChen/Tools-Solutions)
\end{lstlisting}

\subsubsection{travis
配置文件样本}\label{travis-ux914dux7f6eux6587ux4ef6ux6837ux672c}

此库的 \lstinline!.travis.yml! 样本

\begin{lstlisting}
sudo: required
dist: trusty     # ubuntu 14.04

# install
before_install:
    - sudo apt-get update
    - sudo apt-get -y install texlive-full
    - sudo apt-get -y install pandoc

before_script:
    - chmod +x build.sh

script:
    - ./build.sh
\end{lstlisting}

\section{文档处理工具}\label{ux6587ux6863ux5904ux7406ux5de5ux5177}

\subsection{Pandoc}\label{pandoc}

Pandoc 主页 \url{http://pandoc.org}. Pandoc
可以实现不同格式文档的相互转换, 支持的格式包括
markdown、HTML、LaTeX、docx、EPUB ODT等等.

\subsubsection{markdown
多个文档转换}\label{markdown-ux591aux4e2aux6587ux6863ux8f6cux6362}

\begin{lstlisting}
pandoc src/markdown/*.md -o build/latex/content.tex
\end{lstlisting}

\subsubsection{markdown 转 LaTeX, 用 listings 包替换
verbatim}\label{markdown-ux8f6c-latex-ux7528-listings-ux5305ux66ffux6362-verbatim}

pandoc --listings src/markdown/*.md -o build/latex/content.tex

\subsection{LaTeX}\label{latex}

\subsubsection{Windows 上编译缓慢, 经常卡在
eu1lmr.fd}\label{windows-ux4e0aux7f16ux8bd1ux7f13ux6162-ux7ecfux5e38ux5361ux5728-eu1lmr.fd}

删除 \lstinline!texlive\2016\texmf-var\fonts\cache! 文件夹下字体缓存,
重新生成字体缓存, 执行
\lstinline!texlive\2016\bin\win32\fc-cache.exe!\footnote{\href{https://www.zhihu.com/question/51999238/answer/135852542}{LaTeX编译卡顿怎么办？}}.

\subsubsection{listings
代码换行}\label{listings-ux4ee3ux7801ux6362ux884c}

添加 \lstinline!breaklines=true! 后, 还是存在没有空格的 url 无法换行,
需设置 \lstinline!breakatwhitespace=false!. 另外,
可以在代码换行的地方添加箭头标识换行\footnote{\href{http://tex.stackexchange.com/questions/179926/pandoc-markdown-to-pdf-without-cutting-off-code-block-lines-that-are-too-long}{Pandoc:
  Markdown to PDF, without cutting off code block lines that are too
  long} ,
  \href{http://tex.stackexchange.com/questions/174569/code-not-wrapping-in-listings-even-though-breaklines-true}{Code
  not wrapping in listings even though breaklines=true} ,
  \href{http://tex.stackexchange.com/questions/116534/lstlisting-line-wrapping}{lstlisting
  line wrapping}}.

\begin{lstlisting}[language=TeX]
\lstset{
    breaklines=true,
    % 箭头标识换行
    postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},
    breakatwhitespace=false
}
\end{lstlisting}

\section{编辑器及插件}\label{ux7f16ux8f91ux5668ux53caux63d2ux4ef6}

\subsection{Visual Studio Code}\label{visual-studio-code}

\textbf{插件}

\begin{itemize}
\tightlist
\item
  \textbf{Markdown TOC}, markdown 文本的目录生成, 可应用于 wiki
  或博客目录生成.
\item
  \textbf{REST Client}, 在文本编辑器中测试 API
\item
  \textbf{Project Manager}, 类似于 Sublime Text 快捷切换项目目录
\end{itemize}

\section{工具安装}\label{ux5de5ux5177ux5b89ux88c5}

\subsection{nodejs}\label{nodejs}

安装的方式包括: 从源码编译安装, 直接下载二进制,
依靠工具直接从库下载安装.

\textbf{从源码安装}

\begin{lstlisting}
curl -o node-v6.10.0.tar.gz https://nodejs.org/dist/v6.10.0/node-v6.10.0.tar.gz
tar -xvzf node-v6.10.0.tar.gz
cd node-v6.10.0
./configure
make
make install
\end{lstlisting}

\textbf{CentOS 下载二进制安装}

\begin{lstlisting}
# 64bit node install
curl -o node-v6.10.0-linux-x64.tar.xz https://nodejs.org/dist/v6.10.0/node-v6.10.0-linux-x64.tar.xz
mv /opt/
cd /opt/
tar -xvJf node-v6.10.0-linux-x64.tar.xz
mv node-v6.10.0-linux-x64 node

vi ~/.bash_profile
# 添加以下内容到 .bash_profile
# export NODE_HOME=/opt/node
# export PATH=$NODE_HOME/bin:$PATH
source ~/.bash_profile

node -v
\end{lstlisting}

\textbf{Ubuntu 从库中下载安装}

\begin{lstlisting}
curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -
sudo apt-get install -y nodejs
\end{lstlisting}

\subsection{git}\label{git}

\subsubsection{Ubuntu}\label{ubuntu}

安装最新版的 git\footnote{\href{http://stackoverflow.com/questions/19109542/installing-latest-version-of-git-in-ubuntu/19109661\#19109661}{Installing
  Latest version of git in ubuntu},
  \href{http://askubuntu.com/questions/765565/how-to-fix-processing-with-runit-and-git-daemon-run/772095\#772095}{How
  to fix processing with runit and git-daemon-run {[}duplicate{]}}}.

\begin{lstlisting}
sudo add-apt-repository ppa:git-core/ppa
sudo apt-get update
sudo apt-get install git
\end{lstlisting}

如果上面执行报错
\lstinline!Errors were encountered while processing: runit git-daemon-run!,
尝试执行下面命令.

\begin{lstlisting}
sudo apt-get purge runit
sudo apt-get purge git-all
sudo apt-get purge git
sudo apt-get autoremove
sudo apt update
sudo apt install git
\end{lstlisting}

\subsubsection{CentOS 从源码安装
git}\label{centos-ux4eceux6e90ux7801ux5b89ux88c5-git}

执行 \lstinline!yum install git! 安装的版本比较老,
安装最新版可从源码安装\footnote{\href{http://stackoverflow.com/questions/21820715/how-to-install-latest-version-of-git-on-centos-6-x-7-x}{How
  to install latest version of git on CentOS 6.x/7.x} ,
  \href{https://git-scm.com/book/zh/v1/\%E8\%B5\%B7\%E6\%AD\%A5-\%E5\%AE\%89\%E8\%A3\%85-Git}{起步
  - 安装 Git}}.

\begin{lstlisting}
# 依赖工具安装
yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel
yum install gcc perl-ExtUtils-MakeMaker

# git 源码下载
# https://www.kernel.org/pub/software/scm/git/
curl -o git-2.9.3.tar.xz https://www.kernel.org/pub/software/scm/git/git-2.9.3.tar.xz
tar -xvJf git-2.9.3.tar.xz

# 编译安装 git
cd git-2.9.3
make prefix=/usr/local all
sudo make prefix=/usr/local install
\end{lstlisting}

